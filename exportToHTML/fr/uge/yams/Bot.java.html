<html>
<head>
<title>Bot.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #808080;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Bot.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">fr.uge.yams</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">fr.uge.yams.combinations.Combination</span><span class="s0">;</span>

<span class="s0">import </span><span class="s1">java.util.ArrayList</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.HashSet</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.Random</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.Scanner</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.Set</span><span class="s0">;</span>


<span class="s0">public class </span><span class="s1">Bot </span><span class="s0">implements </span><span class="s1">Player{</span>
    <span class="s2">// The bot's scoresheet (initialized with an empty name)</span>
    <span class="s0">private </span><span class="s1">Scoresheet scoresheet</span><span class="s0">;</span>
    <span class="s0">private </span><span class="s1">Set&lt;Combination&gt; usingCombination = </span><span class="s0">new </span><span class="s1">HashSet&lt;&gt;()</span><span class="s0">;</span>
    <span class="s0">private int </span><span class="s1">rerollAttempts = </span><span class="s3">0</span><span class="s0">;</span>


    <span class="s0">public void </span><span class="s1">askName() {</span>
        <span class="s1">scoresheet = </span><span class="s0">new </span><span class="s1">Scoresheet(</span><span class="s4">&quot;Bot&quot;</span><span class="s1">)</span><span class="s0">;</span>
    <span class="s1">}</span>

    <span class="s1">@Override</span>
    <span class="s0">public </span><span class="s1">String getName() {</span>
        <span class="s2">// Returns the bot's name</span>
        <span class="s0">return </span><span class="s4">&quot;Bot&quot;</span><span class="s0">;</span>
    <span class="s1">}</span>
    <span class="s1">@Override</span>
    <span class="s0">public </span><span class="s1">Scoresheet getScoresheet() {</span>
        <span class="s2">// Returns the bot's scoresheet</span>
        <span class="s0">return </span><span class="s1">scoresheet</span><span class="s0">;</span>
    <span class="s1">}</span>

    <span class="s1">@Override</span>
    <span class="s0">public </span><span class="s1">ArrayList&lt;Integer&gt; askReroll(Scanner scanner) {</span>
        <span class="s1">rerollAttempts = </span><span class="s3">0</span><span class="s0">;</span>
        <span class="s0">if </span><span class="s1">(rerollAttempts &gt;= </span><span class="s3">3</span><span class="s1">) {</span>
            <span class="s1">System.out.println(</span><span class="s4">&quot;Bot has reached maximum rerolls.&quot;</span><span class="s1">)</span><span class="s0">;</span>
            <span class="s1">var stop = </span><span class="s0">new </span><span class="s1">ArrayList&lt;Integer&gt;()</span><span class="s0">;</span>
            <span class="s1">stop.add(</span><span class="s3">0</span><span class="s1">)</span><span class="s0">;</span>
            <span class="s0">return </span><span class="s1">stop</span><span class="s0">;</span>
        <span class="s1">}</span>

        <span class="s1">System.out.println(</span><span class="s4">&quot;Bot is deciding which dice to reroll...&quot;</span><span class="s1">)</span><span class="s0">;</span>

        <span class="s2">// Creates a list for dice the bot wants to reroll</span>
        <span class="s1">var rerolls = </span><span class="s0">new </span><span class="s1">ArrayList&lt;Integer&gt;()</span><span class="s0">;</span>
        <span class="s2">// Randomly decides how many dice to reroll (0 to 2)</span>
        <span class="s1">var rerollCount = </span><span class="s0">new </span><span class="s1">Random().nextInt(</span><span class="s3">5</span><span class="s1">)</span><span class="s0">;</span>
        <span class="s2">// Randomly selects unique dice indices to reroll (1 to 5)</span>
        <span class="s1">Set&lt;Integer&gt; used = </span><span class="s0">new </span><span class="s1">HashSet&lt;&gt;()</span><span class="s0">;</span>
        <span class="s0">while </span><span class="s1">(rerolls.size() &lt; rerollCount) {</span>
            <span class="s1">var dice = </span><span class="s0">new </span><span class="s1">Random().nextInt(</span><span class="s3">5</span><span class="s1">) + </span><span class="s3">1</span><span class="s0">;</span>
            <span class="s0">if </span><span class="s1">(used.add(dice)) {</span>
                <span class="s1">rerolls.add(dice)</span><span class="s0">;</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">// Adds 0 at the end to indicate the end of rerolling</span>
        <span class="s1">rerolls.add(</span><span class="s3">0</span><span class="s1">)</span><span class="s0">;</span>
        <span class="s2">// Prints which dice the bot will reroll</span>
        <span class="s1">System.out.println(</span><span class="s4">&quot;Bot will rerol dice: &quot; </span><span class="s1">+ rerolls)</span><span class="s0">;</span>
        <span class="s1">rerollAttempts++</span><span class="s0">;</span>
        <span class="s0">return </span><span class="s1">rerolls</span><span class="s0">;</span>
    <span class="s1">}</span>

    <span class="s1">@Override</span>
    <span class="s0">public </span><span class="s1">Combination askCombination(Scanner scanner) {</span>
        <span class="s1">System.out.println(</span><span class="s4">&quot;Bot is choosing a combination to score...&quot;</span><span class="s1">)</span><span class="s0">;</span>
        <span class="s0">if </span><span class="s1">(usingCombination.size() &gt;= </span><span class="s3">7</span><span class="s1">) {</span>
            <span class="s1">System.out.println(</span><span class="s4">&quot;Bot has used all combinations and cannot choose a new one.&quot;</span><span class="s1">)</span><span class="s0">;</span>
            <span class="s0">return null;</span>
        <span class="s1">}</span>
        <span class="s1">Combination combination</span><span class="s0">;</span>
        <span class="s0">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s0">;</span>
        <span class="s0">int </span><span class="s1">max = </span><span class="s3">50</span><span class="s0">;</span>
        <span class="s0">do </span><span class="s1">{</span>
            <span class="s2">// Bot randomly chooses a valid combination</span>
            <span class="s1">combination = Combination.of()</span><span class="s0">;</span>
            <span class="s1">i++</span><span class="s0">;</span>
            <span class="s0">if </span><span class="s1">(i &gt; max) {</span>
                <span class="s1">System.out.println(</span><span class="s4">&quot;Bot could not find a valid combination after &quot; </span><span class="s1">+ max + </span><span class="s4">&quot; tries.&quot;</span><span class="s1">)</span><span class="s0">;</span>
                <span class="s0">break;</span>
            <span class="s1">}</span>
        <span class="s1">} </span><span class="s0">while </span><span class="s1">(usingCombination.contains(combination))</span><span class="s0">;</span>
        <span class="s2">//Adds the combination to the list of combinations the bot is using</span>
        <span class="s1">usingCombination.add(combination)</span><span class="s0">;</span>
        <span class="s2">// Prints the chosen combination</span>
        <span class="s1">System.out.println(</span><span class="s4">&quot;Bot chooses combination: &quot; </span><span class="s1">+ combination)</span><span class="s0">;</span>
        <span class="s0">return </span><span class="s1">combination</span><span class="s0">;</span>
    <span class="s1">}</span>
<span class="s1">}</span>
</pre>
</body>
</html>